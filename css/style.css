:root {
    --glass-bg: rgba(255,255,255,0.65);
    --glass-bg-2: rgba(255,255,255,0.35);
    --glass-border: rgba(255,255,255,0.12);
    --glass-text: #0f172a;
    --glass-dark-bg: rgba(20,20,20,0.5);
    --glass-dark-bg-2: rgba(20,20,20,0.25);
    /* Farm theme colors (fallbacks in CSS if Tailwind config is not available) */
    --farm-green: #4ade80;
    --farm-dark: #14532d;
    --farm-earth: #78350f;
    --farm-light: #f0fdf4;
}

/* Admin theme variants (toggled by `admin-theme-dark` on <html>) */
.admin-theme-dark {
    --glass-bg: rgba(20,20,20,0.5);
    --glass-bg-2: rgba(20,20,20,0.25);
    --glass-border: rgba(255,255,255,0.06);
    --glass-text: #fff;
}
/* Custom styles for Simple Farm */
body {
    background-image: url('https://images.unsplash.com/photo-1499529112087-fa798a46c825?ixlib=rb-4.0.3&auto=format&fit=crop&w=2070&q=80');
    background-size: cover;
    background-position: center;
    background-attachment: fixed;
    background-repeat: no-repeat;
}

/* Global utility fallbacks for color classes used across templates (non-Tailwind fallback)
    These classes help keep UI consistent across pages even if Tailwind config isn't present. */
.text-farm-dark { color: var(--farm-dark) !important; }
.bg-farm-light { background-color: var(--farm-light) !important; }
.bg-farm-dark { background-color: var(--farm-dark) !important; }
.bg-farm-green { background-color: var(--farm-green) !important; }
.text-farm-green { color: var(--farm-green) !important; }

/* Simplified font utility classes for non-tailwind pages */
.font-montserrat { font-family: 'Montserrat', sans-serif !important; }
.font-poppins { font-family: 'Poppins', sans-serif !important; }

/* Generic container used across pages (keeps consistent width without inline <style>) */
.container { max-width: 1200px; margin: 0 auto; }


/* Hero background using local image */
#home {
    position: relative;
    background-image: url('../public/images/farm_bg.png');
    background-size: cover;
    background-position: center;
    background-repeat: no-repeat;
    -webkit-background-size: cover;
    min-height: 60vh;
}
#home::before {
    content: "";
    position: absolute;
    inset: 0;
    background: linear-gradient(180deg, rgba(0,0,0,0.25) 0%, rgba(0,0,0,0.5) 100%);
    z-index: 0;
}
#home > .max-w-5xl, #home > .container, #home .hero-inner {
    position: relative;
    z-index: 1;
}

/* Hero text stroke (solid black outline) for improved readability */
#home .hero-inner h1 {
    /* Use soft drop-shadows for a strong, readable contrast on the background image */
    color: #fff; /* ensure color is white */
    text-shadow:
        0 12px 40px rgba(0,0,0,0.55),
        0 6px 20px rgba(0,0,0,0.45),
        0 2px 6px rgba(0,0,0,0.36);
}
#home .hero-inner p {
    color: #fff; /* remain white */
    text-shadow: 0 6px 18px rgba(0,0,0,0.45), 0 2px 8px rgba(0,0,0,0.36);
}

/* Slightly bolder/stronger stroke on smaller screens to maintain legibility */
@media (max-width: 640px) {
    #home .hero-inner h1 {
        /* Slightly increase shadow strength and blur on smaller screens for legibility */
        text-shadow: 0 10px 36px rgba(0,0,0,0.58), 0 5px 18px rgba(0,0,0,0.46), 0 2px 10px rgba(0,0,0,0.38);
    }
}
.map-container {
    position: relative;
    width: 100%;
    max-width: 800px;
    margin: 0 auto;
}
.map-image {
    display: block;
    width: 100%;
    height: auto;
    border-radius: 12px;
    box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
}
.area-tooltip {
    display: none;
    position: absolute;
    background: rgba(0,0,0,0.8);
    color: white;
    padding: 5px 10px;
    border-radius: 4px;
    pointer-events: none;
    font-family: 'Poppins', sans-serif;
    font-size: 0.8rem;
    z-index: 10;
}
/* Custom scrollbar for chat */
.chat-scroll::-webkit-scrollbar {
    width: 6px;
}

/* Liquid glass header */
.glass-header {
    position: relative;
    z-index: 60; /* ensure above other elements */
    -webkit-backdrop-filter: blur(10px) saturate(140%);
    backdrop-filter: blur(10px) saturate(140%);
    background: linear-gradient(180deg, rgba(255,255,255,0.65), rgba(255,255,255,0.35));
    border: 1px solid rgba(255,255,255,0.12);
    box-shadow: 0 6px 30px rgba(8,15,22,0.08);
    transition: box-shadow 200ms ease, transform 200ms ease, background 200ms ease;
}
.glass-header .max-w-7xl { padding: 0; }
.glass-header .flex { align-items:center; }

/* Subtle sheen animation across the header */
.glass-header::after {
    content: "";
    position: absolute;
    top: -40%; left: -60%;
    width: 220%; height: 180%;
    background: linear-gradient(90deg, rgba(255,255,255,0) 0%, rgba(255,255,255,0.08) 48%, rgba(255,255,255,0.15) 50%, rgba(255,255,255,0.08) 52%, rgba(255,255,255,0) 100%);
    transform: rotate(12deg) translateX(-120%);
    pointer-events: none;
    mix-blend-mode: overlay;
    opacity: 0.9;
    animation: sheenMove 8s linear infinite;
}

@keyframes sheenMove {
    from { transform: rotate(12deg) translateX(-120%); }
    to { transform: rotate(12deg) translateX(120%); }
}

/* Optional floating liquid blob for 'liquid' feel */
.glass-header::before {
    content: "";
    position: absolute;
    right: 6%; top: -30%;
    width: 320px; height: 180px;
    background: radial-gradient(circle at 40% 30%, rgba(255,255,255,0.12), rgba(255,255,255,0) 40%);
    filter: blur(20px);
    pointer-events: none;
    opacity: 0.9;
    transform-origin: center;
    animation: floatBlob 12s ease-in-out infinite;
}

@keyframes floatBlob {
    0% { transform: translateY(0) scale(1); }
    50% { transform: translateY(6px) scale(1.04); }
    100% { transform: translateY(0) scale(1); }
}

/* Respect reduced motion settings */
@media (prefers-reduced-motion: reduce) {
    .glass-header::after,
    .glass-header::before {
        animation: none;
        transition: none;
    }
}

/* Small visual tweaks for compact screens */
@media (max-width: 640px) {
    .glass-header { padding: 0 10px; }
    .glass-header::before { right: 2%; top: -40%; width: 200px; height: 120px; }
}

/* Glass panel used on admin pages and content cards */
.glass-panel {
    position: relative;
    background: linear-gradient(180deg, rgba(255,255,255,0.65), rgba(255,255,255,0.35));
    -webkit-backdrop-filter: blur(6px) saturate(130%);
    backdrop-filter: blur(6px) saturate(130%);
    border: 1px solid rgba(255,255,255,0.12);
    box-shadow: 0 6px 30px rgba(8,15,22,0.08);
    overflow: hidden;
}
.glass-panel .card-sheen {
    position: absolute;
    inset: -20% -40% auto -40%;
    height: 200%;
    background: linear-gradient(90deg, rgba(255,255,255,0) 0%, rgba(255,255,255,0.06) 45%, rgba(255,255,255,0.12) 50%, rgba(255,255,255,0.06) 55%, rgba(255,255,255,0) 100%);
    transform: rotate(12deg) translateX(-120%);
    mix-blend-mode: overlay;
    pointer-events: none;
    opacity: 0.9;
    animation: sheenMove 10s linear infinite;
}

/* minor hover lift */
.glass-panel:hover { transform: translateY(-4px); box-shadow: 0 12px 40px rgba(8,15,22,0.12); }

/* Small glass card for quick links / tiles */
.glass-card {
     background: linear-gradient(180deg, var(--glass-bg), rgba(255,255,255,0.45));
    border: 1px solid rgba(255,255,255,0.08);
    -webkit-backdrop-filter: blur(6px) saturate(110%);
    backdrop-filter: blur(6px) saturate(110%);
    box-shadow: 0 6px 18px rgba(8,15,22,0.06);
    transition: transform 200ms ease, box-shadow 200ms ease;
}
.glass-card:hover { transform: translateY(-2px); box-shadow: 0 10px 30px rgba(8,15,22,0.08); }
.glass-card a, .glass-card p { color: var(--glass-text, #0f172a); }
@media (prefers-reduced-motion: reduce) {
    .glass-card { transition: none; }
}

/* Dark variant for glass-card when within a dark glass-panel */
.glass-panel.dark .glass-card {
    background: linear-gradient(180deg, rgba(0,0,0,0.24), rgba(0,0,0,0.16));
    border: 1px solid rgba(255,255,255,0.04);
}
.glass-panel.dark .glass-card a, .glass-panel.dark .glass-card p { color: #fff; }

/* Accessibility: focus state for cards */
.glass-card:focus, .glass-card:focus-within, .glass-card a:focus {
    outline: 2px solid rgba(34,197,94,0.5);
    outline-offset: 3px;
}

/* Form controls inside glass panels */
.glass-panel .form-control {
    width: 100%;
    padding: 0.65rem 0.75rem;
    border-radius: 0.5rem;
    border: 1px solid rgba(255,255,255,0.12);
    background: rgba(255,255,255,0.06);
    color: inherit;
    outline: none;
    box-shadow: none;
    transition: box-shadow 150ms ease, border-color 150ms ease, transform 120ms ease;
}
.glass-panel .form-control:focus {
    border-color: rgba(255,255,255,0.22);
    box-shadow: 0 6px 18px rgba(8,15,22,0.06);
    transform: translateY(-2px);
}
.glass-panel .form-label { color: inherit; font-weight: 600; }
.btn, .glass-panel .btn {
    display: inline-flex; align-items: center; gap: 0.5rem;
    padding: 0.6rem 1rem; border-radius: 0.6rem; border: 1px solid rgba(255,255,255,0.06);
    background: linear-gradient(180deg, rgba(76,175,80,0.9), rgba(34,197,94,0.9));
    color: white; font-weight: 600; text-shadow: 0 1px 0 rgba(0,0,0,0.3);
}
.glass-panel.dark .btn { background: linear-gradient(180deg, rgba(34,197,94,0.95), rgba(20,138,61,0.95)); }
.btn.secondary, .glass-panel .btn.secondary {
    background: transparent; color: inherit; border: 1px solid rgba(255,255,255,0.06); padding: 0.5rem 0.9rem;
}

/* Generic button fallback for non-glass contexts */
.btn {
    padding: 0.6rem 1rem; border-radius: 0.6rem; border: 1px solid rgba(0,0,0,0.08); background: var(--farm-green, #4ade80); color: white; font-weight: 600; cursor: pointer;
}
.btn.secondary { background: transparent; color: inherit; border: 1px solid rgba(0,0,0,0.08); }

/* Table within glass panels */
.glass-panel table { width: 100%; border-collapse: collapse; }
.glass-panel th, .glass-panel td { padding: 0.75rem 0.5rem; border-bottom: 1px solid rgba(255,255,255,0.04); }
.glass-panel thead th { text-align: left; font-weight: 700; color: #9CA3AF; font-size: 0.9rem; }
.glass-panel tbody tr:hover { background: rgba(255,255,255,0.02); }

/* Responsive table: stack rows on small screens */
@media (max-width: 640px) {
    .glass-panel table, .glass-panel thead, .glass-panel tbody, .glass-panel th, .glass-panel td, .glass-panel tr { display: block; width: 100%; }
    .glass-panel thead { display: none; }
    .glass-panel tbody tr { margin-bottom: 1rem; border: 1px solid rgba(255,255,255,0.04); padding: 0.5rem; border-radius: 0.5rem; }
    .glass-panel td { display: flex; justify-content: space-between; padding: 0.4rem 0.5rem; border-bottom: none; }
    .glass-panel td::before { content: attr(data-label); font-weight: 600; color: #9CA3AF; margin-right: 0.5rem; }
    .glass-panel td:last-child { display: flex; gap: 0.5rem; }
}

.glass-panel .card-inner { position: relative; z-index: 1; }

/* Allow a darker glass variant for admin sections */
.glass-panel.dark {
    background: linear-gradient(180deg, rgba(20,20,20,0.5), rgba(20,20,20,0.25));
    border: 1px solid rgba(255,255,255,0.06);
}
/* override text colors inside a dark glass panel */
.glass-panel.dark, .glass-panel.dark p, .glass-panel.dark h1, .glass-panel.dark h2, .glass-panel.dark h3, .glass-panel.dark a {
    color: #fff !important;
}
.glass-panel .card-sheen { z-index: 0; }
.glass-panel .card-inner { z-index: 1; }

@media (prefers-reduced-motion: reduce) {
    .glass-panel .card-sheen { animation: none; }
}

.chat-scroll::-webkit-scrollbar-thumb {
    background-color: #cbd5e1;
    border-radius: 4px;
}
